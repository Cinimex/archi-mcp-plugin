### План: OSS Release Preparation (oss-release-plan 1)

## Цель
- Подготовить Archi MCP Plugin для публикации как Open Source проект
- Создать четкие инструкции по сборке в Eclipse RCP для разработчиков
- Обеспечить готовность для альфа-релиза сообщества

## Контекст/Предпосылки
- Текущий проект находится в частном репозитории Cinimex
- Основная сборка происходит в Eclipse RCP/PDE среде
- Существует 3 компонента: archi-scripting-plugin (уже OSS), archi-mcp-plugin, archi-mcp-server
- archi-scripting-plugin уже имеет MIT лицензию
- Требуется ручная сборка для альфа-релиза, автоматизация отложена

## Инварианты
- Локальный сервер, только `127.0.0.1`; порт — как в `Config.resolvePort()`.
- Операции с EMF/SWT — через `Display.getDefault().syncExec(...)`.
- Источник правды REST‑контракта — `resources/openapi.json`.
- Тесты — в `ru.cinimex.archimatetool.mcp/test`.
- Сборка происходит в Eclipse IDE for RCP and RAP Developers
- Зависимости Archi подключаются через Target Platform или системные пути

## Целевая архитектура 

### Аспект лицензирования
- Единая MIT лицензия для всех компонентов проекта
- Удаление ссылок на Cinimex из публичного кода
- Copyright notices обновлены для OSS сообщества

### Аспект документации
- Подробное руководство по сборке в Eclipse RCP
- Четкие инструкции по настройке зависимостей Archi
- Troubleshooting guide для типичных проблем сборки

### Аспект структуры репозитория
- Очищенный код без внутренних артефактов
- Базовая OSS инфраструктура (README, CONTRIBUTING)
- Готовность для GitHub публикации

## Ведение прогресса по шагам (скопировать в план целиком)
- Для каждого шага поддерживать чек‑лист:
  - Статус: [done|partial|todo]
  - Сделано: краткий перечень завершённых подпунктов
  - Осталось: оставшиеся подпункты/блокеры/владелец (если есть)
- Если шаг выполнен, агент сразу переходит к следующему до полного завершения плана.

## Шаги реализации
⚠️ Важно: все шаги должны выполняться **последовательно и без остановок**, пока не завершится весь план. Если после выполнения одного шага остаются следующие, агент обязан перейти к ним автоматически, без ожидания подтверждения пользователя.

1) **Очистка кода и лицензирование**
   - Удалить папку `ai/` с внутренними планами разработки
   - Добавить LICENSE файлы (MIT) в archi-mcp-plugin и archi-mcp-server
   - Обновить MANIFEST.MF: Bundle-Vendor с Cinimex на Community
   - Найти и перевести ключевые комментарии на русском на английский
   - Убрать жестко закодированные пути к Cinimex (если есть)
   - Статус: [todo]
   - Сделано: —
   - Осталось: все подпункты

2) **Создание документации по сборке**
   - Создать BUILD.md с инструкциями по Eclipse RCP сборке
   - Документировать требования: Eclipse IDE for RCP, Java 17+, Archi 5.6.0+
   - Описать процесс настройки Target Platform с Archi dependencies
   - Добавить troubleshooting секцию для типичных проблем
   - Документировать сборку через PDE Export → Deployable plug-ins
   - Статус: [todo]
   - Сделано: —
   - Осталось: создание BUILD.md и всех инструкций

3) **Базовая OSS документация**
   - Создать корневой README.md с обзором проекта и архитектуры
   - Создать CONTRIBUTING.md с гайдом для контрибьюторов
   - Обновить README.md в archi-mcp-plugin и archi-mcp-server
   - Добавить CHANGELOG.md с текущей версией
   - Перевести AGENTS.md на английский (создать AGENTS_EN.md)
   - Статус: [todo]
   - Сделано: —
   - Осталось: создание всех документационных файлов

4) **Подготовка Python MCP Server**
   - Обновить requirements.txt с точными версиями зависимостей
   - Добавить setup.py для pip установки (опционально)
   - Документировать различные способы запуска (stdio, http)
   - Создать примеры конфигурации для Cursor (.cursor/mcp.json)
   - Статус: [todo]
   - Сделано: —
   - Осталось: все подпункты для Python компонента

5) **Финальная проверка и подготовка к релизу**
   - Проверить все LICENSE файлы на месте
   - Убедиться в отсутствии внутренних ссылок/путей
   - Протестировать сборку по созданным инструкциям
   - Проверить работу smoke тестов
   - Подготовить release notes для альфа версии
   - Статус: [todo]
   - Сделано: —
   - Осталось: финальная проверка всех компонентов

## DoD (Definition of Done)
- Все внутренние артефакты Cinimex удалены из кода
- MIT лицензии добавлены во все компоненты
- Создана полная документация по сборке в Eclipse RCP
- Базовая OSS документация готова (README, CONTRIBUTING, CHANGELOG)
- Python MCP server документирован и готов к использованию
- Smoke тесты проходят с новой документацией
- Код готов к публикации на GitHub

## Тестирование
- Юнит‑тесты: существующие тесты должны продолжать работать (расположение: `ru.cinimex.archimatetool.mcp/test`).
- Интеграционные/smoke: проверка сборки по новым инструкциям, запуск smoke тестов через `run_smoke_py.sh`.
- Ручная проверка: сборка плагина в чистой Eclipse среде по документации.

## Риски/роллбэк
- Риски: 
  - Потеря функциональности при удалении внутренних зависимостей
  - Неполные инструкции по сборке могут затруднить adoption
  - Совместимость с различными версиями Eclipse/Archi
- Роллбэк: 
  - Сохранить копию текущего состояния перед началом изменений
  - Можно быстро восстановить удаленные файлы из git истории
  - Отложить публикацию если критические проблемы в тестировании


